@(group: Group, groupForm: Form[Group])
@import helper._
@import models.enums.GroupType

@main("Gruppe bearbeiten") {

	<!-- Start infoModal -->
	 <div id="infoModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="infoModalLabel" aria-hidden="false">
	 	@views.html.Group.snippets.infoModal(group)    
	 </div>
	 <!-- Ende infoModal -->
		
	 <!-- Start confirmDeleteGroupModal -->
	 <div id="confirmDeleteGroup" class="modal fade" tabindex="-1" role="dialog">
	 	@views.html.Group.snippets.deleteGroupModal(group)   
	 </div>
	 <!-- End confirmDeleteGroupModal -->
	 
	 @views.html.Group.snippets.navTabs(group)
	<h2 class="hp-truncate">@group.title</h2>		
	</br>
    </br>
    <div class="noModal">
		<dl>
			<dt>Gruppengründer</dt>
			<dd>@group.owner.firstname @group.owner.lastname</dd>
		</dl>
		<dl>
			<dt>Erstellt am</dt>
			<dd>@group.createdAt.format("dd. MMM yyyy")</dd>
		</dl>
	@form(routes.GroupController.update(group.id), 'id -> "editGroupForm") {
		@textarea(groupForm("description"), 'class -> "form-control", '_label -> "Beschreibung", 'rows -> "5")
		<dl>
			<dt>Sichtbarkeit</dt>
			<dd>
				<div class="radio">
					<label>
						<input type="radio" name="optionsRadios" id="optionsRadios2" value="0" @if(group.groupType == GroupType.open) {checked}>
						<span class="glyphicon glyphicon-globe"></span> Öffentliche Gruppe
					</label>
				</div>
				<div class="radio">
					<label>
						<input type="radio" name="optionsRadios" id="optionsRadios1" value="1" @if(group.groupType == GroupType.close) {checked}>
						<span class="glyphicon glyphicon-lock"></span> Private Gruppe
					</label>
				</div>
			</dd>
		</dl>
		<button type="submit" class="btn btn-warning">Speichern</button>
	}
		<dl>
			<dt>Mitglieder</dt>
			<dd>
				<table class="table table-hover table-condensed">
					<colgroup>
						<col width="70%">
						<col width="30%">
					</colgroup>
					<thead>
						<tr>
							<th>Name</th>
							<th>Optionen</th>
						</tr>
					</thead>
					<tbody>
						@defining(GroupAccount.findAccountsByGroup(group)) { accounts =>
				             @for(account <- accounts) {              
	                            <tr>
	                                <td>
	                                	<a data-placement="top" data-original-title="@account.name" data-content="Rolle: Student &lt;br /&gt; Studiengang: Angewandte Informatik" data-delay="500" data-trigger="hover" data-html="true" rel="popover" href="@routes.ProfileController.view(account.id)">@account.name</a>
	                                </td>
	                                @if(account.id != group.owner.id){
	                                <td>
	                                	<a href="@routes.GroupController.removeMember(group.id,account.id)" rel="tooltip" title="Löschen">
	                                		<span class="glyphicon glyphicon-remove"></span>
	                                	</a>
	                                </td>
	                                }
	                            </tr>
	                         }
	              		}
					</tbody>
				</table>
			</dd>
		</dl>
		
	</div>
}