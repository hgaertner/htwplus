@(group: Group, mediaForm: Form[Media], mediaList: List[Media], isMember: Boolean)
@import helper._
@import models.enums._

@main("Group Media") {
	<div class="clear">
	<h2 class="truncate">@group.title</h2>		
	</br>
	
	@if(!group.isClosed || isMember) {
		<ul class="nav nav-tabs nav-justified">
  			<li><a href="@routes.GroupController.view(group.id)" role="button" class="btn btn-default" rel="tooltip" data-original-title="Gruppennewsstream" data-container="body"><span class="glyphicon glyphicon-comment"></span></a></li>
  			<li class="active"><a href="@routes.GroupController.media(group.id)" role="button" class="btn btn-default" rel="tooltip" data-original-title="Gruppenmedien" data-container="body"><span class="glyphicon glyphicon-file"></span></a></li>
			@if(Secured.isOwnerOfGroup(group, Component.currentAccount)) {
				<li><a href="@routes.GroupController.edit(group.id)" role="button" class="btn btn-default" rel="tooltip" data-original-title="Gruppe bearbeiten" data-container="body"><span class="glyphicon glyphicon-pencil"></span></a></li>
				<li><a href="#confirmDeleteGroup" role="button" class="btn btn-default" rel="tooltip" data-toggle="modal" data-original-title="Gruppe lÃ¶schen" data-container="body"><span class="glyphicon glyphicon-trash"></span></a></li>
			}
			@if(!Secured.isMemberOfGroup(group, Component.currentAccount)) {
				<li><a href="@routes.GroupController.join(group.id)" role="button" class="btn btn-default" rel="tooltip" data-original-title="Beitreten" data-container="body"><span class="glyphicon glyphicon-ok"></span></a></li>
			}
			<li><a href="#infoModal" role="button" class="btn btn-default" data-toggle="modal" rel="tooltip" data-original-title="Gruppeninfo" data-container="body"><span class="glyphicon glyphicon-info-sign"></span></a></li>
		</ul>
		<br />
		<br />
	
		@if(!mediaList.isEmpty) {
 			@views.html.Media.list(mediaList,models.Media.GROUP,group.id)
 		} else {
		<br /><br />
		<i>Es wurden noch keine Dateien hochgeladen.</i>
 		}
		<hr />
		<br />

 		@views.html.Media.upload(mediaForm,models.Media.GROUP,group.id)
 		
	} else {
		<h2>
			@truncate(group.title,30)
			<span class="glyphicon glyphicon-lock"></span>
			<div class="btn-group">
				<a href="#infoModal@group.id" type="button" class="btn btn-default" data-toggle="modal" rel="tooltip" data-original-title="Gruppeninfo" data-container="body"><span class="glyphicon glyphicon-info-sign"></span></a>
				<a href="@routes.GroupController.join(group.id)" type="button" class="btn btn-default" rel="tooltip" data-original-title="Beitreten" data-container="body"><span class="glyphicon glyphicon-ok"></span></a>
			</div>
		</h2>
		<br />
		<h4>Diese Gruppe ist leider geschlossen.</h4>

	}
	</div>
	
	 <!-- Start infoModal -->
	 <div id="infoModal@group.id" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="infoModalLabel" aria-hidden="false">
	 	@views.html.Group.snippets.infoModal(group)    
	 </div>
	 <!-- Ende infoModal -->
		
	 <!-- Start confirmDeleteGroupModal -->
	 <div id="confirmDeleteGroup" class="modal fade" tabindex="-1" role="dialog">
	 	@views.html.Group.snippets.deleteGroupModal(group)   
	 </div>
	 <!-- End confirmDeleteGroupModal -->

}