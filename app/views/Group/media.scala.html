@(group: Group, mediaForm: Form[Media], mediaList: List[Media])
@import helper._

@main("Group Media") {
	<h2>
		@group.title@if(group.isClosed == true) {<i class="icon-lock"></i>} else {<i class="icon-globe"></i>}
		<div class="btn-group">
			<a href="@routes.GroupController.view(group.id)" role="button" class="btn" rel="tooltip" data-original-title="Gruppennewsstream"><i class="icon-comment"></i></a>
			<a href="@routes.GroupController.media(group.id)" role="button" class="btn active" rel="tooltip" data-original-title="Gruppenmedien"><i class="icon-file"></i></a>
			@defining(Component.currentAccount()) { user => @if(group.owner.id == user.id){
				<a href="@routes.GroupController.edit(group.id)" role="button" rel="tooltip" data-toggle="modal" data-original-title="Gruppe bearbeiten" class="btn editGroup"><i class="icon-pencil"></i></a>
				<a href="#confirmDeleteGroup" role="button" class="btn" rel="tooltip" data-toggle="modal" data-original-title="Gruppe löschen" class="btn deleteGroup"><i class="icon-trash"></i></a>
			}}
			<a href="#infoModal@group.id" role="button" class="btn last" data-toggle="modal" rel="tooltip" data-original-title="Gruppeninfo"><i class="icon-info-sign"></i></a>
		</div>
	</h2>
	
	<!-- Start editModal -->
		<div id="editModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="infoModalLabel" aria-hidden="true">
	
		<div class="loading-modal">
		<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"
					aria-hidden="true">x</button>
				<h3 id="editModalLabel">Gruppe bearbeiten</h3>
			</div>
			<div class="modal-body"><div id="loading"></div>Wird geladen</div>
			<div class="modal-footer">
				<button class="btn" data-dismiss="modal" aria-hidden="true">Schließen</button>
			</div>
		</div>
		</div>
	<!-- Ende editModal -->
	
	<!-- Start infoModal -->
	<div id="infoModal@group.id" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="infoModalLabel" aria-hidden="false">
		@views.html.Group.snippets.infoModal(group)    
	</div>
	<!-- Ende infoModal -->
	
	<!-- Start confirmDeleteGroupModal -->
	<div id="confirmDeleteGroup" class="modal hide fade" tabindex="-1" role="dialog">
		@views.html.Group.snippets.deleteGroupModal(group)   
	</div>
	<!-- End confirmDeleteGroupModal -->
	<br />
 @if(!mediaList.isEmpty) {
 	@views.html.Media.list(mediaList,models.Media.GROUP,group.id)
 } else {
 	<p><i>Es wurden noch keine Dateien hochgeladen.</i></p>
 }     
 <hr />
 <br />

 <h4>Neue Dateien hochladen<span id="loadingMedia"></span></h4>
 @views.html.Media.upload(mediaForm,models.Media.GROUP,group.id)                      
                                   
}