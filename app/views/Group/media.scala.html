@(group: Group, mediaForm: Form[Media], mediaList: List[Media], isMember: Boolean)
@import helper._
@import models.enums._

@main("Group Media") {
	<div class="clear">
	@if(!group.isClosed || isMember) {
		<h2 id="truncated">@group.title</h2>
		<div class="miniMenue">
			@if(group.groupType.equals(GroupType.open)) { <span class="glyphicon glyphicon-globe"></span>}
			@if(group.groupType.equals(GroupType.close)) { <span class="glyphicon glyphicon-lock"></span>}
			@if(group.groupType.equals(GroupType.course)) { <span class="glyphicon glyphicon-briefcase"></span>}
			<div class="btn-group">
				<a href="@routes.GroupController.view(group.id)" role="button" class="btn btn-default" rel="tooltip" data-original-title="Gruppennewsstream" data-container="body"><span class="glyphicon glyphicon-comment"></span></a>
				<a href="@routes.GroupController.media(group.id)" role="button" class="btn btn-default active" rel="tooltip" data-original-title="Gruppenmedien" data-container="body"><span class="glyphicon glyphicon-file"></span></a>
			@defining(Component.currentAccount()) { user => @if(group.owner.id == user.id) {
				<a href="@routes.GroupController.edit(group.id)" role="button" class="btn btn-default" rel="tooltip" data-original-title="Gruppe bearbeiten" data-container="body"><span class="glyphicon glyphicon-pencil"></span></a>
				<a href="#confirmDeleteGroup" role="button" class="btn btn-default" rel="tooltip" data-toggle="modal" data-original-title="Gruppe lÃ¶schen" data-container="body"><span class="glyphicon glyphicon-trash"></span></a>
			} @if(!isMember) {
				<a href="@routes.GroupController.join(group.id)" role="button" class="btn btn-default" rel="tooltip" data-original-title="Beitreten" data-container="body"><span class="glyphicon glyphicon-ok"></span></a>
			}}
				<a href="#infoModal@group.id" role="button" class="btn btn-default" data-toggle="modal" rel="tooltip" data-original-title="Gruppeninfo" data-container="body"><span class="glyphicon glyphicon-info-sign"></span></a>
			</div>
		</div>
		<br />
	
		@if(!mediaList.isEmpty) {
 			@views.html.Media.list(mediaList,models.Media.GROUP,group.id)
 		} else {
		<br /><br />
		<i>Es wurden noch keine Dateien hochgeladen.</i>
 		}
		<hr />
		<br />

 		@views.html.Media.upload(mediaForm,models.Media.GROUP,group.id)
 		
	} else {
		<h2>
			@group.title
			<span class="glyphicon glyphicon-lock"></span>
			<div class="btn-group">
				<a href="#infoModal@group.id" type="button" class="btn btn-default" data-toggle="modal" rel="tooltip" data-original-title="Gruppeninfo" data-container="body"><span class="glyphicon glyphicon-info-sign"></span></a>
				<a href="@routes.GroupController.join(group.id)" type="button" class="btn btn-default" rel="tooltip" data-original-title="Beitreten" data-container="body"><span class="glyphicon glyphicon-ok"></span></a>
			</div>
		</h2>
		<br />
		<h4>Diese Gruppe ist leider geschlossen.</h4>

	}
	</div>
	
	 <!-- Start infoModal -->
	 <div id="infoModal@group.id" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="infoModalLabel" aria-hidden="false">
	 	@views.html.Group.snippets.infoModal(group)    
	 </div>
	 <!-- Ende infoModal -->
		
	 <!-- Start confirmDeleteGroupModal -->
	 <div id="confirmDeleteGroup" class="modal hide fade" tabindex="-1" role="dialog">
	 	@views.html.Group.snippets.deleteGroupModal(group)   
	 </div>
	 <!-- End confirmDeleteGroupModal -->

}